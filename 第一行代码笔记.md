## 第二章 先从看得到的入手——探究活动

### 2.5 活动的启动模式

启动模式有4种

- standard
- singleTop
- singleTask
- singleInstance

**选择启动方式：**在AndroidManifest.xml中通过<activity>标签指定android:launchMode属性来选择启动方式



#### 2.5.1	standard

​	standard是活动默认的启动模式，在standard模式(即默认情况)下，每当启动一个新的活动，它就会返回栈中入栈，并处于栈顶的位置。对于使用standard模式的活动，**每次启动都会创建该活动的一个新的实例。**

![](F:\markDown\media\standard.png)

#### 2.5.2	singleTop

​	当活动的启动模式指定为singleTop，在启动活动时，**如果发现返回栈的栈顶已经是该活动，则认为直接使用它，不会创建新的活动实例。**如果该活动不在栈顶，还是会创建新的实例。

![](F:\markDown\media\singleTop.png)

#### 2.5.3	singleTask

​	当活动的启动模式指定为singleTask，每次启动该活动时系统首先会在返回栈中检查是否存在该活动的实例，如果发现已经存在则直接使用该实例，并把这个活动之上的所有活动统统出栈，如果没有发现就会创建一个新的活动实例。

![](F:\markDown\media\singleTask.png)

#### 2.5.4	singleInstance

​	指定为singleInstance模式的活动会启用一个新的返回栈来管理这个活动（其实如果singleTask模式指定了不同的taskAffinity，也会启动一个新的返回栈）

![](F:\markDown\media\singleInstance.png)